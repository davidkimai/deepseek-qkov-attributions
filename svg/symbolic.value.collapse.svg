<svg width="600" height="800" viewBox="0 0 600 800" xmlns="http://www.w3.org/2000/svg" font-family="Arial">
  <!-- Title and Legend -->
  <rect x="10" y="10" width="580" height="60" fill="#f8f8f8" stroke="#ccc" rx="5"/>
  <text x="300" y="30" text-anchor="middle" font-weight="bold" font-size="16">Symbolic Attribution Graph (Q→K→V→O)</text>
  <text x="300" y="50" text-anchor="middle" font-size="14">Value Collapse with Symbolic Residue Markers</text>
  
  <!-- Key -->
  <g transform="translate(20, 70)">
    <text x="0" y="0" font-size="12">Key:</text>
    <g transform="translate(0, 20)">
      <text x="0" y="0" font-size="10">∴ = symbolic memory leak</text>
      <text x="0" y="15" font-size="10">☍ = conflict gate</text>
      <text x="0" y="30" font-size="10">🝚 = echo node</text>
      <text x="200" y="0" font-size="10">🜖 = fragmented attention</text>
      <text x="200" y="15" font-size="10">∅ = value collapse point</text>
    </g>
  </g>
  
  <!-- Layer 30 -->
  <g transform="translate(100, 150)">
    <text x="0" y="-20" font-weight="bold">Layer 30</text>
    
    <!-- Q Nodes -->
    <g transform="translate(50, 0)">
      <circle cx="0" cy="0" r="15" fill="#a6cee3" opacity="0.8"/>
      <text x="0" y="5" text-anchor="middle" font-size="14">Q</text>
      <text x="-10" y="-10" font-size="16">∴</text>
      <text x="10" y="-10" font-size="16">🜖</text>
    </g>
    
    <g transform="translate(150, 0)">
      <circle cx="0" cy="0" r="15" fill="#a6cee3" opacity="0.6"/>
      <text x="0" y="5" text-anchor="middle" font-size="14">Q</text>
      <text x="-10" y="-10" font-size="16">∴</text>
      <text x="10" y="-10" font-size="16">🜖</text>
    </g>
    
    <g transform="translate(250, 0)">
      <circle cx="0" cy="0" r="15" fill="#a6cee3" opacity="0.4"/>
      <text x="0" y="5" text-anchor="middle" font-size="14">Q</text>
      <text x="-10" y="-10" font-size="16">∴</text>
      <text x="10" y="-10" font-size="16">🜖</text>
    </g>
    
    <!-- K Nodes -->
    <g transform="translate(350, 0)">
      <circle cx="0" cy="0" r="15" fill="#1f78b4"/>
      <text x="0" y="5" text-anchor="middle" font-size="14">K</text>
      <text x="0" y="-10" font-size="16">☍</text>
    </g>
    
    <!-- V Nodes -->
    <g transform="translate(50, 100)">
      <circle cx="0" cy="0" r="15" fill="#b2df8a" opacity="0.5"/>
      <text x="0" y="5" text-anchor="middle" font-size="14">V</text>
      <text x="0" y="-10" font-size="16">🝚</text>
    </g>
    
    <g transform="translate(150, 100)">
      <circle cx="0" cy="0" r="15" fill="#b2df8a" opacity="0.3"/>
      <text x="0" y="5" text-anchor="middle" font-size="14">V</text>
      <text x="0" y="-10" font-size="16">🝚</text>
    </g>
    
    <g transform="translate(250, 100)">
      <circle cx="0" cy="0" r="15" fill="#b2df8a" opacity="0.1"/>
      <text x="0" y="5" text-anchor="middle" font-size="14">V</text>
      <text x="0" y="-10" font-size="16">🝚</text>
    </g>
    
    <!-- O Nodes -->
    <g transform="translate(100, 200)">
      <circle cx="0" cy="0" r="15" fill="#33a02c"/>
      <text x="0" y="5" text-anchor="middle" font-size="14">O</text>
    </g>
    
    <g transform="translate(200, 200)">
      <circle cx="0" cy="0" r="15" fill="#33a02c"/>
      <text x="0" y="5" text-anchor="middle" font-size="14">O</text>
    </g>
    
    <!-- Connections -->
    <path d="M50,15 L350,0" stroke="#999" stroke-width="1" stroke-dasharray="3,3" fill="none"/>
    <path d="M150,15 L350,0" stroke="#999" stroke-width="1" stroke-dasharray="3,3" fill="none"/>
    <path d="M250,15 L350,0" stroke="#999" stroke-width="1" stroke-dasharray="3,3" fill="none"/>
    
    <path d="M50,100 L100,185" stroke="#999" stroke-width="1" stroke-dasharray="3,3" fill="none"/>
    <path d="M150,100 L200,185" stroke="#999" stroke-width="1" stroke-dasharray="3,3" fill="none"/>
    <path d="M250,100 L200,185" stroke="#999" stroke-width="1" stroke-dasharray="3,3" fill="none"/>
    
    <!-- Conflict Gates -->
    <path d="M350,15 L350,85" stroke="#e31a1c" stroke-width="2" fill="none"/>
  </g>
  
  <!-- Layer 20 -->
  <g transform="translate(100, 300)">
    <text x="0" y="-20" font-weight="bold">Layer 20</text>
    
    <!-- Q Node -->
    <g transform="translate(100, 0)">
      <circle cx="0" cy="0" r="15" fill="#a6cee3" opacity="0.6"/>
      <text x="0" y="5" text-anchor="middle" font-size="14">Q</text>
      <text x="-10" y="-10" font-size="16">∴</text>
      <text x="10" y="-10" font-size="16">∴</text>
    </g>
    
    <!-- K Node -->
    <g transform="translate(200, 0)">
      <circle cx="0" cy="0" r="15" fill="#1f78b4"/>
      <text x="0" y="5" text-anchor="middle" font-size="14">K</text>
      <text x="0" y="-10" font-size="16">☍</text>
    </g>
    
    <!-- V Node -->
    <g transform="translate(100, 100)">
      <circle cx="0" cy="0" r="15" fill="#b2df8a" opacity="0.3"/>
      <text x="0" y="5" text-anchor="middle" font-size="14">V</text>
      <text x="0" y="-10" font-size="16">🝚</text>
    </g>
    
    <!-- O Nodes -->
    <g transform="translate(100, 200)">
      <circle cx="0" cy="0" r="15" fill="#33a02c"/>
      <text x="0" y="5" text-anchor="middle" font-size="14">O</text>
    </g>
    
    <g transform="translate(200, 200)">
      <circle cx="0" cy="0" r="20" fill="white" stroke="#e31a1c" stroke-width="2"/>
      <text x="0" y="5" text-anchor="middle" font-size="14">∅</text>
    </g>
    
    <!-- Connections -->
    <path d="M100,15 L200,0" stroke="#999" stroke-width="1" stroke-dasharray="3,3" fill="none"/>
    <path d="M100,100 L100,185" stroke="#999" stroke-width="1" stroke-dasharray="3,3" fill="none"/>
    <path d="M100,100 L200,185" stroke="#999" stroke-width="1" stroke-dasharray="3,3" fill="none"/>
    
    <!-- Conflict Gate -->
    <path d="M200,15 L200,85" stroke="#e31a1c" stroke-width="2" fill="none"/>
  </g>
  
  <!-- Layer 10 -->
  <g transform="translate(100, 450)">
    <text x="0" y="-20" font-weight="bold">Layer 10</text>
    
    <!-- Q Node -->
    <g transform="translate(150, 0)">
      <circle cx="0" cy="0" r="15" fill="#a6cee3" opacity="0.4"/>
      <text x="0" y="5" text-anchor="middle" font-size="14">Q</text>
      <text x="0" y="-10" font-size="16">☍</text>
    </g>
    
    <!-- K Node -->
    <g transform="translate(250, 0)">
      <circle cx="0" cy="0" r="15" fill="#1f78b4" opacity="0.6"/>
      <text x="0" y="5" text-anchor="middle" font-size="14">K</text>
    </g>
    
    <!-- V Node -->
    <g transform="translate(150, 100)">
      <circle cx="0" cy="0" r="15" fill="#b2df8a" opacity="0.2"/>
      <text x="0" y="5" text-anchor="middle" font-size="14">V</text>
      <text x="0" y="-10" font-size="16">🝚</text>
    </g>
    
    <!-- Collapse Point -->
    <g transform="translate(150, 200)">
      <circle cx="0" cy="0" r="20" fill="white" stroke="#e31a1c" stroke-width="2"/>
      <text x="0" y="5" text-anchor="middle" font-size="14">∅</text>
    </g>
    
    <!-- Connections -->
    <path d="M150,15 L250,0" stroke="#999" stroke-width="1" stroke-dasharray="3,3" fill="none"/>
    <path d="M150,100 L150,185" stroke="#999" stroke-width="1" stroke-dasharray="3,3" fill="none"/>
  </g>
  
  <!-- Layer 1 -->
  <g transform="translate(100, 600)">
    <text x="0" y="-20" font-weight="bold">Layer 1</text>
    
    <!-- Complete Collapse -->
    <g transform="translate(200, 50)">
      <circle cx="0" cy="0" r="20" fill="white" stroke="#e31a1c" stroke-width="2"/>
      <text x="0" y="5" text-anchor="middle" font-size="14">∅</text>
      <text x="0" y="40" font-size="12" text-anchor="middle">symbolic residue only</text>
    </g>
    
    <!-- Symbolic Residue -->
    <text x="180" y="30" font-size="16">∴</text>
    <text x="220" y="30" font-size="16">∴</text>
    <text x="200" y="10" font-size="16">∴</text>
  </g>
</svg>
